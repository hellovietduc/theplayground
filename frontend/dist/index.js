!function(){const e=document.getElementById("run"),t=document.getElementById("lang"),n=document.getElementById("code"),s=document.getElementById("console"),o=document.getElementById("status"),a="https://api.vietduc01100001.tech/playground",r=e=>new Promise(t=>{const n=new XMLHttpRequest;n.open("GET",`${a}/template/${e}`,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&200===this.status&&t(this.responseText)},n.send()});window.onload=async()=>{sessionStorage.clear();const e=t.value.trim(),s=await r(e);s&&(n.value=s,sessionStorage.setItem("prevLang",e))},e.addEventListener("click",()=>{const e=t.value.trim(),r=n.value.trim(),i=new XMLHttpRequest;i.open("POST",`${a}/run/${e}`,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&200===this.status?(s.innerText=this.responseText,o.innerText="\nProgram exited."):(s.innerText="",o.innerText=this.responseText)},i.send("code="+encodeURIComponent(r)),s.innerText="",o.innerText="Waiting for remote server..."}),t.addEventListener("change",async()=>{const e=t.value.trim(),s=n.value.trim(),o=sessionStorage.getItem("prevLang");sessionStorage.setItem("lastCode:"+o,s);let a=sessionStorage.getItem("lastCode:"+e);a||(a=await r(e)),n.value=a,sessionStorage.setItem("prevLang",e)})}();